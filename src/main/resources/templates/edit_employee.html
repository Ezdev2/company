<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <!--    <link href="static/css/style.css" rel="stylesheet" />-->
    <link
            href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
            rel="stylesheet"
    />
    <title>Modifier l'employé</title>
    <style>
      .circle {
        width: 150px;
        height: 150px;
        border-radius: 50%;
        overflow: hidden;
      }

      .circle img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
    </style>
</head>
<body class="w-full">
<div class="container mx-auto p-4 flex flex-col gap-4">
    <nav class="flex items-center justify-between bg-gray-100 p-4">
        <div class="flex items-center">
            <h1 class="text-xl font-bold">Modifier l'employé</h1>
        </div>
        <a th:href="@{/logout}">Déconnecter</a>
        <!--        <div class="flex items-center gap-2">-->
        <!--            <p class="text-lg font-bold text-gray-800" th:text="${employees[0].company.name}"></p>-->
        <!--            <img th:src="${employees[0].company.logo}" alt="logo" class="w-12 h-12 rounded-full" />-->
        <!--        </div>-->
    </nav>
    <a
            href="/"
            class="block mt-4 text-blue-500 hover:text-blue-700 flex gap-2 items-center"
    >
        <svg
                width="20px"
                height="20px"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
        >
            <path
                    d="M18 17L13 12L18 7M11 17L6 12L11 7"
                    stroke="#3b82f6"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
            />
        </svg>
        Retour à la liste des employés
    </a>
    <form
            th:action="@{/employees/edit/{id}(id=${employee.id})}"
            th:object="${employee}"
            enctype="multipart/form-data"
            method="post"
            class="max-w-sm mx-auto"
    >
        <input type="hidden" th:field="*{id}" />
        <div class="mb-4">
            <label class="block text-gray-700 font-bold mb-2">Nom:</label>
            <input
                    type="text"
                    th:field="*{lastName}"
                    class="w-full border border-gray-300 rounded-md py-2 px-3"
            />
        </div>
        <div class="mb-4">
            <label class="block text-gray-700 font-bold mb-2">Prénoms:</label>
            <input
                    type="text"
                    th:field="*{firstName}"
                    class="w-full border border-gray-300 rounded-md py-2 px-3"
            />
        </div>
        <div class="mb-4">
            <label class="block text-gray-700 font-bold mb-2"
            >Date de naissance:</label
            >
            <input
                    type="date"
                    th:field="*{dateOfBirth}"
                    th:value="(${employee.dateOfBirth} ?: null)"
                    class="w-full border border-gray-300 rounded-md py-2 px-3"
            />
        </div>
        <div class="mb-4">
            <label class="block text-gray-700 font-bold mb-2">Département:</label>
            <select
                    th:field="*{department}"
                    class="w-full border border-gray-300 rounded-md py-2 px-3"
            >
                <option value="IT">IT</option>
                <option value="Marketing">Marketing</option>
                <option value="Santé">Santé</option>
                <option value="Management">Management</option>
                <option value="Environnement">Environnement</option>
            </select>
        </div>
        <div class="mb-4">
            <label class="block text-gray-700 font-bold mb-2">Adresse:</label>
            <input
                    type="text"
                    th:field="*{address}"
                    class="w-full border border-gray-300 rounded-md py-2 px-3"
            />
        </div>
        <div class="mb-4">
            <label class="block text-gray-700 font-bold mb-2">Téléphone:</label>
            <input
                    type="tel"
                    th:field="*{phone}"
                    class="w-full border border-gray-300 rounded-md py-2 px-3"
            />
        </div>
        <div class="mb-4">
            <label class="block text-gray-700 font-bold mb-2">Fonction:</label>
            <input
                    type="text"
                    th:field="*{jobTitle}"
                    class="w-full border border-gray-300 rounded-md py-2 px-3"
            />
        </div>
        <div class="mb-4">
            <label class="block text-gray-700 font-bold mb-2"
            >Numéro de matricule:</label
            >
            <input
                    type="text"
                    th:field="*{employeeNumber}"
                    class="w-full border border-gray-300 rounded-md py-2 px-3"
            />
        </div>
        <div class="mb-4">
            <label class="block text-gray-700 font-bold mb-2">Sexe</label>
            <select
                    th:field="*{gender}"
                    class="w-full border border-gray-300 rounded-md py-2 px-3"
            >
                <option value="Masculin">Masculin</option>
                <option value="Féminin">Féminin</option>
            </select>
        </div>
        <div class="mb-4">
            <label class="block text-gray-700 font-bold mb-2"
            >Email personnel</label
            >
            <input
                    type="email"
                    th:field="*{personalEmail}"
                    class="w-full border border-gray-300 rounded-md py-2 px-3"
            />
        </div>
        <div class="mb-4">
            <label class="block text-gray-700 font-bold mb-2"
            >Email professionnel</label
            >
            <input
                    type="email"
                    th:field="*{workEmail}"
                    class="w-full border border-gray-300 rounded-md py-2 px-3"
            />
        </div>
        <div class="mb-4">
            <label class="block text-gray-700 font-bold mb-2"
            >Numéro de CIN</label
            >
            <input
                    type="text"
                    th:field="*{cinNumber}"
                    class="w-full border border-gray-300 rounded-md py-2 px-3"
            />
        </div>
        <div class="mb-4">
            <label class="block text-gray-700 font-bold mb-2"
            >Date de délivrance du CIN</label
            >
            <input
                    type="date"
                    th:field="*{cinIssueDate}"
                    class="w-full border border-gray-300 rounded-md py-2 px-3"
            />
        </div>
        <div class="mb-4">
            <label class="block text-gray-700 font-bold mb-2"
            >Lieu de délivrance du CIN</label
            >
            <input
                    type="text"
                    th:field="*{cinIssuePlace}"
                    class="w-full border border-gray-300 rounded-md py-2 px-3"
            />
        </div>
        <div class="mb-4">
            <label class="block text-gray-700 font-bold mb-2"
            >Nombre d'enfants à charge</label
            >
            <input
                    type="text"
                    th:field="*{numberOfChildren}"
                    class="w-full border border-gray-300 rounded-md py-2 px-3"
            />
        </div>
        <div class="mb-4">
            <label class="block text-gray-700 font-bold mb-2"
            >Date d'embauche</label
            >
            <input
                    type="date"
                    th:field="*{hireDate}"
                    class="w-full border border-gray-300 rounded-md py-2 px-3"
            />
        </div>
        <div class="mb-4">
            <label class="block text-gray-700 font-bold mb-2"
            >Date de départ</label
            >
            <input
                    type="date"
                    th:field="*{departureDate}"
                    class="w-full border border-gray-300 rounded-md py-2 px-3"
            />
        </div>
        <div class="mb-4">
            <label class="block text-gray-700 font-bold mb-2"
            >Catégorie socio-professionnelle</label
            >
            <select
                    th:field="*{socioProfessionalCategory}"
                    class="w-full border border-gray-300 rounded-md py-2 px-3"
            >
                <option value="M1">M1</option>
                <option value="M2">M2</option>
                <option value="OS1">OS1</option>
                <option value="OS2">OS2</option>
                <option value="OS3">OS3</option>
                <option value="OP1">OP1</option>
                <option value="OS1">OS1</option>
                <option value="OS2">OS2</option>
                <option value="OS3">OS3</option>
            </select>
        </div>
        <div class="mb-4">
            <label class="block text-gray-700 font-bold mb-2">Numéro CNAPS</label>
            <input
                    type="text"
                    th:field="*{cnapsNumber}"
                    class="w-full border border-gray-300 rounded-md py-2 px-3"
            />
        </div>
        <div class="mb-4">
            <label class="block text-gray-700 font-bold mb-2"
            >Photo d'identité:</label
            >
            <div class="circle">
                <img th:src="@{/images/{filename}(filename=${employee.imagePath})}" alt="Photo d'identité" />
            </div>
            <input
                    type="file"
                    name="imagePath"
                    accept="image/*"
                    class="w-full border border-gray-300 rounded-md py-2 px-3"
            />
        </div>
        <button
                type="submit"
                class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded"
        >
            Enregistrer
        </button>
    </form>
    <a href="/" class="block mt-4 text-blue-500 hover:text-blue-700"
    >Retour à la liste des employés</a
    >
</div>
</body>
</html>
